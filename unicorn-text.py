#!/usr/bin/env python3
import argparse
import unicornhat as UH
import time, math, colorsys
from collections import deque


parser = argparse.ArgumentParser(description='Draw Letters on Unicorn Hat.')
parser.add_argument('text', help='text to draw',  nargs='?', const='Test', default="Unicorn HAT Text Test")
parser.add_argument('-b','--brightness', type=float, dest='brightness', default=0.1, help='brightness')
parser.add_argument('-d','--direction', dest='direction', default="h", choices=['h', 'v'], help='direction horizontal or vertical')
parser.add_argument('-c','--colour', dest='colour', default="255,0,0", help='colour of text : comma seperated 0-255 r,g,b ')
parser.add_argument('-g','--background', dest='background', default="0,0,0", help='colour of background : comma seperated 0-255 r,g,b ')
parser.add_argument('-r','--rotation', type=int, choices=[0,90,180,270], dest='rotation', default=0, help='rotation')
parser.add_argument('-fps','--frames', type=int, dest='frames', default=30, help='frames per second')
parser.add_argument('-f','--font', type=int, dest='font', default=0, help='font number')
parser.add_argument('-m','--mirror', type=bool, dest='mirror', nargs='?', const=True, default=False, help='mirror')
#parser.add_argument('-lm','--lettermirror', type=bool, dest='lettermirror', nargs='?', const=True, default=False, help='letter mirror')

args = parser.parse_args()

stextcolour = args.colour.split(",") #[0,0,255]
textcolour = [int(stextcolour[0]), int(stextcolour[1]), int(stextcolour[2])]

sbgcolour = args.background.split(",") #[0,0,255]
background = [int(sbgcolour[0]), int(sbgcolour[1]), int(sbgcolour[2])]


UH.rotation(args.rotation)
UH.brightness(args.brightness)

frame_duration = 1 / args.frames

aBios = [
   [0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00] # character 0x00 |  ^@|
  ,[0x7e,0x81,0xa5,0x81,0xbd,0x99,0x81,0x7e] # character 0x01 |  ^A|
  ,[0x7e,0xff,0xdb,0xff,0xc3,0xe7,0xff,0x7e] # character 0x02 |  ^B|
  ,[0x36,0x7f,0x7f,0x7f,0x3e,0x1c,0x08,0x00] # character 0x03 |  ^C|
  ,[0x08,0x1c,0x3e,0x7f,0x3e,0x1c,0x08,0x00] # character 0x04 |  ^D|
  ,[0x1c,0x3e,0x1c,0x7f,0x7f,0x49,0x08,0x3e] # character 0x05 |  ^E|
  ,[0x00,0x08,0x1c,0x3e,0x7f,0x3e,0x1c,0x3e] # character 0x06 |  ^F|
  ,[0x00,0x00,0x18,0x3c,0x3c,0x18,0x00,0x00] # character 0x07 |  ^G|
  ,[0xff,0xff,0xe7,0xc3,0xc3,0xe7,0xff,0xff] # character 0x08 |  ^H|
  ,[0x00,0x3c,0x66,0x42,0x42,0x66,0x3c,0x00] # character 0x09 |  ^I|
  ,[0xff,0xc3,0x99,0xbd,0xbd,0x99,0xc3,0xff] # character 0x0a |  ^J|
  ,[0xf0,0xe0,0xf0,0xbe,0x33,0x33,0x33,0x1e] # character 0x0b |  ^K|
  ,[0x3c,0x66,0x66,0x66,0x3c,0x18,0x7e,0x18] # character 0x0c |  ^L|
  ,[0xfc,0xcc,0xfc,0x0c,0x0c,0x0e,0x0f,0x07] # character 0x0d |  ^M|
  ,[0xfe,0xc6,0xfe,0xc6,0xc6,0xe6,0x67,0x03] # character 0x0e |  ^N|
  ,[0x99,0x5a,0x3c,0xe7,0xe7,0x3c,0x5a,0x99] # character 0x0f |  ^O|
  ,[0x01,0x07,0x1f,0x7f,0x1f,0x07,0x01,0x00] # character 0x10 |  ^P|
  ,[0x40,0x70,0x7c,0x7f,0x7c,0x70,0x40,0x00] # character 0x11 |  ^Q|
  ,[0x18,0x3c,0x7e,0x18,0x18,0x7e,0x3c,0x18] # character 0x12 |  ^R|
  ,[0x66,0x66,0x66,0x66,0x66,0x00,0x66,0x00] # character 0x13 |  ^S|
  ,[0xfe,0xdb,0xdb,0xde,0xd8,0xd8,0xd8,0x00] # character 0x14 |  ^T|
  ,[0x7c,0xc6,0x1c,0x36,0x36,0x1c,0x61,0x3f] # character 0x15 |  ^U|
  ,[0x00,0x00,0x00,0x00,0x7e,0x7e,0x7e,0x00] # character 0x16 |  ^V|
  ,[0x18,0x3c,0x7e,0x18,0x7e,0x3c,0x18,0xff] # character 0x17 |  ^W|
  ,[0x18,0x3c,0x7e,0x18,0x18,0x18,0x18,0x00] # character 0x18 |  ^X|
  ,[0x18,0x18,0x18,0x18,0x7e,0x3c,0x18,0x00] # character 0x19 |  ^Y|
  ,[0x00,0x18,0x30,0x7f,0x30,0x18,0x00,0x00] # character 0x1a |  ^Z|
  ,[0x00,0x0c,0x06,0x7f,0x06,0x0c,0x00,0x00] # character 0x1b |  ^[|
  ,[0x00,0x00,0x03,0x03,0x03,0x7f,0x00,0x00] # character 0x1c |  ^\|
  ,[0x00,0x24,0x66,0xff,0x66,0x24,0x00,0x00] # character 0x1d |  ^]|
  ,[0x00,0x18,0x3c,0x7e,0xff,0xff,0x00,0x00] # character 0x1e |  ^^|
  ,[0x00,0xff,0xff,0x7e,0x3c,0x18,0x00,0x00] # character 0x1f |  ^_|
  ,[0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00] # character 0x20 |    |
  ,[0x18,0x3c,0x3c,0x18,0x18,0x00,0x18,0x00] # character 0x21 |   !|
  ,[0x36,0x36,0x36,0x00,0x00,0x00,0x00,0x00] # character 0x22 |   "|
  ,[0x36,0x36,0x7f,0x36,0x7f,0x36,0x36,0x00] # character 0x23 |   #|
  ,[0x18,0x7e,0x03,0x3e,0x60,0x3f,0x18,0x00] # character 0x24 |   $|
  ,[0x00,0x63,0x33,0x18,0x0c,0x66,0x63,0x00] # character 0x25 |   %|
  ,[0x1c,0x36,0x1c,0x6e,0x3b,0x33,0x6e,0x00] # character 0x26 |   &|
  ,[0x0c,0x0c,0x06,0x00,0x00,0x00,0x00,0x00] # character 0x27 |   '|
  ,[0x18,0x0c,0x06,0x06,0x06,0x0c,0x18,0x00] # character 0x28 |   (|
  ,[0x06,0x0c,0x18,0x18,0x18,0x0c,0x06,0x00] # character 0x29 |   )|
  ,[0x00,0x66,0x3c,0xff,0x3c,0x66,0x00,0x00] # character 0x2a |   *|
  ,[0x00,0x18,0x18,0x7e,0x18,0x18,0x00,0x00] # character 0x2b |   +|
  ,[0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x0c] # character 0x2c |   ,|
  ,[0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00] # character 0x2d |   -|
  ,[0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00] # character 0x2e |   .|
  ,[0x60,0x30,0x18,0x0c,0x06,0x03,0x01,0x00] # character 0x2f |   /|
  ,[0x3e,0x73,0x7b,0x6f,0x67,0x63,0x3e,0x00] # character 0x30 |   0|
  ,[0x0c,0x0e,0x0c,0x0c,0x0c,0x0c,0x3f,0x00] # character 0x31 |   1|
  ,[0x1e,0x33,0x30,0x1c,0x06,0x33,0x3f,0x00] # character 0x32 |   2|
  ,[0x1e,0x33,0x30,0x1c,0x30,0x33,0x1e,0x00] # character 0x33 |   3|
  ,[0x38,0x3c,0x36,0x33,0x7f,0x30,0x78,0x00] # character 0x34 |   4|
  ,[0x3f,0x03,0x1f,0x30,0x30,0x33,0x1e,0x00] # character 0x35 |   5|
  ,[0x1c,0x06,0x03,0x1f,0x33,0x33,0x1e,0x00] # character 0x36 |   6|
  ,[0x3f,0x33,0x30,0x18,0x0c,0x0c,0x0c,0x00] # character 0x37 |   7|
  ,[0x1e,0x33,0x33,0x1e,0x33,0x33,0x1e,0x00] # character 0x38 |   8|
  ,[0x1e,0x33,0x33,0x3e,0x30,0x18,0x0e,0x00] # character 0x39 |   9|
  ,[0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x00] # character 0x3a |   :|
  ,[0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x0c] # character 0x3b |   ;|
  ,[0x18,0x0c,0x06,0x03,0x06,0x0c,0x18,0x00] # character 0x3c |   <|
  ,[0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00] # character 0x3d |   =|
  ,[0x06,0x0c,0x18,0x30,0x18,0x0c,0x06,0x00] # character 0x3e |   >|
  ,[0x3c,0x66,0x30,0x18,0x18,0x00,0x18,0x00] # character 0x3f |   ?|
  ,[0x3e,0x63,0x7b,0x7b,0x3b,0x03,0x3e,0x00] # character 0x40 |   @|
  ,[0x0c,0x1e,0x33,0x33,0x3f,0x33,0x33,0x00] # character 0x41 |   A|
  ,[0x3f,0x66,0x66,0x3e,0x66,0x66,0x3f,0x00] # character 0x42 |   B|
  ,[0x3c,0x66,0x03,0x03,0x03,0x66,0x3c,0x00] # character 0x43 |   C|
  ,[0x1f,0x36,0x66,0x66,0x66,0x36,0x1f,0x00] # character 0x44 |   D|
  ,[0x7f,0x46,0x16,0x1e,0x16,0x46,0x7f,0x00] # character 0x45 |   E|
  ,[0x7f,0x46,0x16,0x1e,0x16,0x06,0x0f,0x00] # character 0x46 |   F|
  ,[0x3c,0x66,0x03,0x03,0x73,0x66,0x5c,0x00] # character 0x47 |   G|
  ,[0x33,0x33,0x33,0x3f,0x33,0x33,0x33,0x00] # character 0x48 |   H|
  ,[0x1e,0x0c,0x0c,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x49 |   I|
  ,[0x78,0x30,0x30,0x30,0x33,0x33,0x1e,0x00] # character 0x4a |   J|
  ,[0x67,0x66,0x36,0x1e,0x36,0x66,0x67,0x00] # character 0x4b |   K|
  ,[0x0f,0x06,0x06,0x06,0x46,0x66,0x7f,0x00] # character 0x4c |   L|
  ,[0x63,0x77,0x7f,0x7f,0x6b,0x63,0x63,0x00] # character 0x4d |   M|
  ,[0x63,0x67,0x6f,0x7b,0x73,0x63,0x63,0x00] # character 0x4e |   N|
  ,[0x1c,0x36,0x63,0x63,0x63,0x36,0x1c,0x00] # character 0x4f |   O|
  ,[0x3f,0x66,0x66,0x3e,0x06,0x06,0x0f,0x00] # character 0x50 |   P|
  ,[0x3e,0x63,0x63,0x63,0x6b,0x3e,0x70,0x00] # character 0x51 |   Q|
  ,[0x3f,0x66,0x66,0x3e,0x36,0x66,0x67,0x00] # character 0x52 |   R|
  ,[0x3e,0x63,0x07,0x1e,0x70,0x63,0x3e,0x00] # character 0x53 |   S|
  ,[0x3f,0x2d,0x0c,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x54 |   T|
  ,[0x33,0x33,0x33,0x33,0x33,0x33,0x3f,0x00] # character 0x55 |   U|
  ,[0x33,0x33,0x33,0x33,0x33,0x1e,0x0c,0x00] # character 0x56 |   V|
  ,[0x63,0x63,0x63,0x63,0x6b,0x7f,0x36,0x00] # character 0x57 |   W|
  ,[0x63,0x63,0x36,0x1c,0x36,0x63,0x63,0x00] # character 0x58 |   X|
  ,[0x33,0x33,0x33,0x1e,0x0c,0x0c,0x1e,0x00] # character 0x59 |   Y|
  ,[0x7f,0x63,0x31,0x18,0x4c,0x66,0x7f,0x00] # character 0x5a |   Z|
  ,[0x1e,0x06,0x06,0x06,0x06,0x06,0x1e,0x00] # character 0x5b |   [|
  ,[0x03,0x06,0x0c,0x18,0x30,0x60,0x40,0x00] # character 0x5c |   \|
  ,[0x1e,0x18,0x18,0x18,0x18,0x18,0x1e,0x00] # character 0x5d |   ]|
  ,[0x08,0x1c,0x36,0x63,0x00,0x00,0x00,0x00] # character 0x5e |   ^|
  ,[0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff] # character 0x5f |   _|
  ,[0x0c,0x0c,0x18,0x00,0x00,0x00,0x00,0x00] # character 0x60 |   `|
  ,[0x00,0x00,0x1e,0x30,0x3e,0x33,0x6e,0x00] # character 0x61 |   a|
  ,[0x07,0x06,0x06,0x3e,0x66,0x66,0x3b,0x00] # character 0x62 |   b|
  ,[0x00,0x00,0x1e,0x33,0x03,0x33,0x1e,0x00] # character 0x63 |   c|
  ,[0x38,0x30,0x30,0x3e,0x33,0x33,0x6e,0x00] # character 0x64 |   d|
  ,[0x00,0x00,0x1e,0x33,0x3f,0x03,0x1e,0x00] # character 0x65 |   e|
  ,[0x1c,0x36,0x26,0x0f,0x06,0x06,0x0f,0x00] # character 0x66 |   f|
  ,[0x00,0x00,0x6e,0x33,0x33,0x3e,0x30,0x1f] # character 0x67 |   g|
  ,[0x07,0x06,0x36,0x6e,0x66,0x66,0x67,0x00] # character 0x68 |   h|
  ,[0x0c,0x00,0x0e,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x69 |   i|
  ,[0x30,0x00,0x38,0x30,0x30,0x33,0x33,0x1e] # character 0x6a |   j|
  ,[0x07,0x06,0x66,0x36,0x1e,0x36,0x67,0x00] # character 0x6b |   k|
  ,[0x0e,0x0c,0x0c,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x6c |   l|
  ,[0x00,0x00,0x33,0x7f,0x7f,0x6b,0x6b,0x00] # character 0x6d |   m|
  ,[0x00,0x00,0x1d,0x33,0x33,0x33,0x33,0x00] # character 0x6e |   n|
  ,[0x00,0x00,0x1e,0x33,0x33,0x33,0x1e,0x00] # character 0x6f |   o|
  ,[0x00,0x00,0x3b,0x66,0x66,0x3e,0x06,0x0f] # character 0x70 |   p|
  ,[0x00,0x00,0x6e,0x33,0x33,0x3e,0x30,0x78] # character 0x71 |   q|
  ,[0x00,0x00,0x3b,0x6e,0x46,0x06,0x0f,0x00] # character 0x72 |   r|
  ,[0x00,0x00,0x3e,0x03,0x0e,0x38,0x1f,0x00] # character 0x73 |   s|
  ,[0x08,0x0c,0x3f,0x0c,0x0c,0x2c,0x18,0x00] # character 0x74 |   t|
  ,[0x00,0x00,0x33,0x33,0x33,0x33,0x6e,0x00] # character 0x75 |   u|
  ,[0x00,0x00,0x33,0x33,0x33,0x1e,0x0c,0x00] # character 0x76 |   v|
  ,[0x00,0x00,0x63,0x63,0x6b,0x7f,0x36,0x00] # character 0x77 |   w|
  ,[0x00,0x00,0x63,0x36,0x1c,0x36,0x63,0x00] # character 0x78 |   x|
  ,[0x00,0x00,0x33,0x33,0x33,0x3e,0x30,0x1f] # character 0x79 |   y|
  ,[0x00,0x00,0x3f,0x19,0x0c,0x26,0x3f,0x00] # character 0x7a |   z|
  ,[0x38,0x0c,0x0c,0x07,0x0c,0x0c,0x38,0x00] # character 0x7b |   [|
  ,[0x18,0x18,0x18,0x00,0x18,0x18,0x18,0x00] # character 0x7c |   ||
  ,[0x07,0x0c,0x0c,0x38,0x0c,0x0c,0x07,0x00] # character 0x7d |   ]|
  ,[0x6e,0x3b,0x00,0x00,0x00,0x00,0x00,0x00] # character 0x7e |   ~|
  ,[0x00,0x08,0x1c,0x36,0x63,0x63,0x7f,0x00] # character 0x7f |    |
  ,[0x1e,0x33,0x03,0x33,0x1e,0x18,0x30,0x1e] # character 0x80 |^M-@|
  ,[0x00,0x33,0x00,0x33,0x33,0x33,0x7e,0x00] # character 0x81 |^M-A|
  ,[0x38,0x00,0x1e,0x33,0x3f,0x03,0x1e,0x00] # character 0x82 |^M-B|
  ,[0x7e,0xc3,0x3c,0x60,0x7c,0x66,0xfc,0x00] # character 0x83 |^M-C|
  ,[0x33,0x00,0x1e,0x30,0x3e,0x33,0x7e,0x00] # character 0x84 |^M-D|
  ,[0x07,0x00,0x1e,0x30,0x3e,0x33,0x7e,0x00] # character 0x85 |^M-E|
  ,[0x0c,0x0c,0x1e,0x30,0x3e,0x33,0x7e,0x00] # character 0x86 |^M-F|
  ,[0x00,0x00,0x1e,0x03,0x03,0x1e,0x30,0x1c] # character 0x87 |^M-G|
  ,[0x7e,0xc3,0x3c,0x66,0x7e,0x06,0x3c,0x00] # character 0x88 |^M-H|
  ,[0x33,0x00,0x1e,0x33,0x3f,0x03,0x1e,0x00] # character 0x89 |^M-I|
  ,[0x07,0x00,0x1e,0x33,0x3f,0x03,0x1e,0x00] # character 0x8a |^M-J|
  ,[0x33,0x00,0x0e,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x8b |^M-K|
  ,[0x3e,0x63,0x1c,0x18,0x18,0x18,0x3c,0x00] # character 0x8c |^M-L|
  ,[0x07,0x00,0x0e,0x0c,0x0c,0x0c,0x1e,0x00] # character 0x8d |^M-M|
  ,[0x63,0x1c,0x36,0x63,0x7f,0x63,0x63,0x00] # character 0x8e |^M-N|
  ,[0x0c,0x0c,0x00,0x1e,0x33,0x3f,0x33,0x00] # character 0x8f |^M-O|
  ,[0x38,0x00,0x3f,0x06,0x1e,0x06,0x3f,0x00] # character 0x90 |^M-P|
  ,[0x00,0x00,0xfe,0x30,0xfe,0x33,0xfe,0x00] # character 0x91 |^M-Q|
  ,[0x7c,0x36,0x33,0x7f,0x33,0x33,0x73,0x00] # character 0x92 |^M-R|
  ,[0x1e,0x33,0x00,0x1e,0x33,0x33,0x1e,0x00] # character 0x93 |^M-S|
  ,[0x00,0x33,0x00,0x1e,0x33,0x33,0x1e,0x00] # character 0x94 |^M-T|
  ,[0x00,0x07,0x00,0x1e,0x33,0x33,0x1e,0x00] # character 0x95 |^M-U|
  ,[0x1e,0x33,0x00,0x33,0x33,0x33,0x7e,0x00] # character 0x96 |^M-V|
  ,[0x00,0x07,0x00,0x33,0x33,0x33,0x7e,0x00] # character 0x97 |^M-W|
  ,[0x00,0x33,0x00,0x33,0x33,0x3e,0x30,0x1f] # character 0x98 |^M-X|
  ,[0xc3,0x18,0x3c,0x66,0x66,0x3c,0x18,0x00] # character 0x99 |^M-Y|
  ,[0x33,0x00,0x33,0x33,0x33,0x33,0x1e,0x00] # character 0x9a |^M-Z|
  ,[0x18,0x18,0x7e,0x03,0x03,0x7e,0x18,0x18] # character 0x9b |^M-[|
  ,[0x1c,0x36,0x26,0x0f,0x06,0x67,0x3f,0x00] # character 0x9c |^M-\|
  ,[0x33,0x33,0x1e,0x3f,0x0c,0x3f,0x0c,0x0c] # character 0x9d |^M-]|
  ,[0x1f,0x33,0x33,0x5f,0x63,0xf3,0x63,0xe3] # character 0x9e |^M-^|
  ,[0x70,0xd8,0x18,0x3c,0x18,0x18,0x1b,0x0e] # character 0x9f |^M-_|
  ,[0x38,0x00,0x1e,0x30,0x3e,0x33,0x7e,0x00] # character 0xa0 | M- |
  ,[0x1c,0x00,0x0e,0x0c,0x0c,0x0c,0x1e,0x00] # character 0xa1 | M-!|
  ,[0x00,0x38,0x00,0x1e,0x33,0x33,0x1e,0x00] # character 0xa2 | M-"|
  ,[0x00,0x38,0x00,0x33,0x33,0x33,0x7e,0x00] # character 0xa3 | M-#|
  ,[0x00,0x1f,0x00,0x1f,0x33,0x33,0x33,0x00] # character 0xa4 | M-$|
  ,[0x3f,0x00,0x33,0x37,0x3f,0x3b,0x33,0x00] # character 0xa5 | M-%|
  ,[0x3c,0x36,0x36,0x7c,0x00,0x7e,0x00,0x00] # character 0xa6 | M-&|
  ,[0x1c,0x36,0x36,0x1c,0x00,0x3e,0x00,0x00] # character 0xa7 | M-'|
  ,[0x0c,0x00,0x0c,0x06,0x03,0x33,0x1e,0x00] # character 0xa8 | M-(|
  ,[0x00,0x00,0x00,0x3f,0x03,0x03,0x00,0x00] # character 0xa9 | M-)|
  ,[0x00,0x00,0x00,0x3f,0x30,0x30,0x00,0x00] # character 0xaa | M-*|
  ,[0xc3,0x63,0x33,0x7b,0xcc,0x66,0x33,0xf0] # character 0xab | M-+|
  ,[0xc3,0x63,0x33,0xdb,0xec,0xf6,0xf3,0xc0] # character 0xac | M-,|
  ,[0x18,0x18,0x00,0x18,0x18,0x18,0x18,0x00] # character 0xad | M--|
  ,[0x00,0xcc,0x66,0x33,0x66,0xcc,0x00,0x00] # character 0xae | M-.|
  ,[0x00,0x33,0x66,0xcc,0x66,0x33,0x00,0x00] # character 0xaf | M-/|
  ,[0x44,0x11,0x44,0x11,0x44,0x11,0x44,0x11] # character 0xb0 | M-0|
  ,[0xaa,0x55,0xaa,0x55,0xaa,0x55,0xaa,0x55] # character 0xb1 | M-1|
  ,[0xdb,0xee,0xdb,0x77,0xdb,0xee,0xdb,0x77] # character 0xb2 | M-2|
  ,[0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18] # character 0xb3 | M-3|
  ,[0x18,0x18,0x18,0x18,0x1f,0x18,0x18,0x18] # character 0xb4 | M-4|
  ,[0x18,0x18,0x1f,0x18,0x1f,0x18,0x18,0x18] # character 0xb5 | M-5|
  ,[0x6c,0x6c,0x6c,0x6c,0x6f,0x6c,0x6c,0x6c] # character 0xb6 | M-6|
  ,[0x00,0x00,0x00,0x00,0x7f,0x6c,0x6c,0x6c] # character 0xb7 | M-7|
  ,[0x00,0x00,0x1f,0x18,0x1f,0x18,0x18,0x18] # character 0xb8 | M-8|
  ,[0x6c,0x6c,0x6f,0x60,0x6f,0x6c,0x6c,0x6c] # character 0xb9 | M-9|
  ,[0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c,0x6c] # character 0xba | M-:|
  ,[0x00,0x00,0x7f,0x60,0x6f,0x6c,0x6c,0x6c] # character 0xbb | M-;|
  ,[0x6c,0x6c,0x6f,0x60,0x7f,0x00,0x00,0x00] # character 0xbc | M-<|
  ,[0x6c,0x6c,0x6c,0x6c,0x7f,0x00,0x00,0x00] # character 0xbd | M-=|
  ,[0x18,0x18,0x1f,0x18,0x1f,0x00,0x00,0x00] # character 0xbe | M->|
  ,[0x00,0x00,0x00,0x00,0x1f,0x18,0x18,0x18] # character 0xbf | M-?|
  ,[0x18,0x18,0x18,0x18,0xf8,0x00,0x00,0x00] # character 0xc0 | M-@|
  ,[0x18,0x18,0x18,0x18,0xff,0x00,0x00,0x00] # character 0xc1 | M-A|
  ,[0x00,0x00,0x00,0x00,0xff,0x18,0x18,0x18] # character 0xc2 | M-B|
  ,[0x18,0x18,0x18,0x18,0xf8,0x18,0x18,0x18] # character 0xc3 | M-C|
  ,[0x00,0x00,0x00,0x00,0xff,0x00,0x00,0x00] # character 0xc4 | M-D|
  ,[0x18,0x18,0x18,0x18,0xff,0x18,0x18,0x18] # character 0xc5 | M-E|
  ,[0x18,0x18,0xf8,0x18,0xf8,0x18,0x18,0x18] # character 0xc6 | M-F|
  ,[0x6c,0x6c,0x6c,0x6c,0xec,0x6c,0x6c,0x6c] # character 0xc7 | M-G|
  ,[0x6c,0x6c,0xec,0x0c,0xfc,0x00,0x00,0x00] # character 0xc8 | M-H|
  ,[0x00,0x00,0xfc,0x0c,0xec,0x6c,0x6c,0x6c] # character 0xc9 | M-I|
  ,[0x6c,0x6c,0xef,0x00,0xff,0x00,0x00,0x00] # character 0xca | M-J|
  ,[0x00,0x00,0xff,0x00,0xef,0x6c,0x6c,0x6c] # character 0xcb | M-K|
  ,[0x6c,0x6c,0xec,0x0c,0xec,0x6c,0x6c,0x6c] # character 0xcc | M-L|
  ,[0x00,0x00,0xff,0x00,0xff,0x00,0x00,0x00] # character 0xcd | M-M|
  ,[0x6c,0x6c,0xef,0x00,0xef,0x6c,0x6c,0x6c] # character 0xce | M-N|
  ,[0x18,0x18,0xff,0x00,0xff,0x00,0x00,0x00] # character 0xcf | M-O|
  ,[0x6c,0x6c,0x6c,0x6c,0xff,0x00,0x00,0x00] # character 0xd0 | M-P|
  ,[0x00,0x00,0xff,0x00,0xff,0x18,0x18,0x18] # character 0xd1 | M-Q|
  ,[0x00,0x00,0x00,0x00,0xff,0x6c,0x6c,0x6c] # character 0xd2 | M-R|
  ,[0x6c,0x6c,0x6c,0x6c,0xfc,0x00,0x00,0x00] # character 0xd3 | M-S|
  ,[0x18,0x18,0xf8,0x18,0xf8,0x00,0x00,0x00] # character 0xd4 | M-T|
  ,[0x00,0x00,0xf8,0x18,0xf8,0x18,0x18,0x18] # character 0xd5 | M-U|
  ,[0x00,0x00,0x00,0x00,0xfc,0x6c,0x6c,0x6c] # character 0xd6 | M-V|
  ,[0x6c,0x6c,0x6c,0x6c,0xff,0x6c,0x6c,0x6c] # character 0xd7 | M-W|
  ,[0x18,0x18,0xff,0x18,0xff,0x18,0x18,0x18] # character 0xd8 | M-X|
  ,[0x18,0x18,0x18,0x18,0x1f,0x00,0x00,0x00] # character 0xd9 | M-Y|
  ,[0x00,0x00,0x00,0x00,0xf8,0x18,0x18,0x18] # character 0xda | M-Z|
  ,[0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff] # character 0xdb | M-[|
  ,[0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff] # character 0xdc | M-\|
  ,[0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f] # character 0xdd | M-]|
  ,[0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0] # character 0xde | M-^|
  ,[0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00] # character 0xdf | M-_|
  ,[0x00,0x00,0x6e,0x3b,0x13,0x3b,0x6e,0x00] # character 0xe0 | M-`|
  ,[0x00,0x1e,0x33,0x1f,0x33,0x1f,0x03,0x03] # character 0xe1 | M-a|
  ,[0x00,0x3f,0x33,0x03,0x03,0x03,0x03,0x00] # character 0xe2 | M-b|
  ,[0x00,0x7f,0x36,0x36,0x36,0x36,0x36,0x00] # character 0xe3 | M-c|
  ,[0x3f,0x33,0x06,0x0c,0x06,0x33,0x3f,0x00] # character 0xe4 | M-d|
  ,[0x00,0x00,0x7e,0x1b,0x1b,0x1b,0x0e,0x00] # character 0xe5 | M-e|
  ,[0x00,0x66,0x66,0x66,0x66,0x3e,0x06,0x03] # character 0xe6 | M-f|
  ,[0x00,0x6e,0x3b,0x18,0x18,0x18,0x18,0x00] # character 0xe7 | M-g|
  ,[0x3f,0x0c,0x1e,0x33,0x33,0x1e,0x0c,0x3f] # character 0xe8 | M-h|
  ,[0x1c,0x36,0x63,0x7f,0x63,0x36,0x1c,0x00] # character 0xe9 | M-i|
  ,[0x1c,0x36,0x63,0x63,0x36,0x36,0x77,0x00] # character 0xea | M-j|
  ,[0x38,0x0c,0x18,0x3e,0x33,0x33,0x1e,0x00] # character 0xeb | M-k|
  ,[0x00,0x00,0x7e,0xdb,0xdb,0x7e,0x00,0x00] # character 0xec | M-l|
  ,[0x60,0x30,0x7e,0xdb,0xdb,0x7e,0x06,0x03] # character 0xed | M-m|
  ,[0x1c,0x06,0x03,0x1f,0x03,0x06,0x1c,0x00] # character 0xee | M-n|
  ,[0x1e,0x33,0x33,0x33,0x33,0x33,0x33,0x00] # character 0xef | M-o|
  ,[0x00,0x3f,0x00,0x3f,0x00,0x3f,0x00,0x00] # character 0xf0 | M-p|
  ,[0x0c,0x0c,0x3f,0x0c,0x0c,0x00,0x3f,0x00] # character 0xf1 | M-q|
  ,[0x06,0x0c,0x18,0x0c,0x06,0x00,0x3f,0x00] # character 0xf2 | M-r|
  ,[0x18,0x0c,0x06,0x0c,0x18,0x00,0x3f,0x00] # character 0xf3 | M-s|
  ,[0x70,0xd8,0xd8,0x18,0x18,0x18,0x18,0x18] # character 0xf4 | M-t|
  ,[0x18,0x18,0x18,0x18,0x18,0x1b,0x1b,0x0e] # character 0xf5 | M-u|
  ,[0x0c,0x0c,0x00,0x3f,0x00,0x0c,0x0c,0x00] # character 0xf6 | M-v|
  ,[0x00,0x6e,0x3b,0x00,0x6e,0x3b,0x00,0x00] # character 0xf7 | M-w|
  ,[0x1c,0x36,0x36,0x1c,0x00,0x00,0x00,0x00] # character 0xf8 | M-x|
  ,[0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00] # character 0xf9 | M-y|
  ,[0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x00] # character 0xfa | M-z|
  ,[0xf0,0x30,0x30,0x30,0x37,0x36,0x3c,0x38] # character 0xfb | M-[|
  ,[0x1e,0x36,0x36,0x36,0x36,0x00,0x00,0x00] # character 0xfc | M-||
  ,[0x0e,0x18,0x0c,0x06,0x1e,0x00,0x00,0x00] # character 0xfd | M-]|
  ,[0x00,0x00,0x3c,0x3c,0x3c,0x3c,0x00,0x00] # character 0xfe | M-~|
  ,[0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00] # character 0xff |    |
]

aVincent = [ #horizontal bars
  [ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x3E, 0x41, 0x55, 0x41, 0x55, 0x49, 0x3E ], 
  [ 0x00, 0x3E, 0x7F, 0x6B, 0x7F, 0x6B, 0x77, 0x3E ], 
  [ 0x00, 0x22, 0x77, 0x7F, 0x7F, 0x3E, 0x1C, 0x08 ], 
  [ 0x00, 0x08, 0x1C, 0x3E, 0x7F, 0x3E, 0x1C, 0x08 ], 
  [ 0x00, 0x08, 0x1C, 0x2A, 0x7F, 0x2A, 0x08, 0x1C ], 
  [ 0x00, 0x08, 0x1C, 0x3E, 0x7F, 0x3E, 0x08, 0x1C ], 
  [ 0x00, 0x00, 0x1C, 0x3E, 0x3E, 0x3E, 0x1C, 0x00 ], 
  [ 0xFF, 0xFF, 0xE3, 0xC1, 0xC1, 0xC1, 0xE3, 0xFF ], 
  [ 0x00, 0x00, 0x1C, 0x22, 0x22, 0x22, 0x1C, 0x00 ], 
  [ 0xFF, 0xFF, 0xE3, 0xDD, 0xDD, 0xDD, 0xE3, 0xFF ], 
  [ 0x00, 0x0F, 0x03, 0x05, 0x39, 0x48, 0x48, 0x30 ], 
  [ 0x00, 0x08, 0x3E, 0x08, 0x1C, 0x22, 0x22, 0x1C ], 
  [ 0x00, 0x18, 0x14, 0x10, 0x10, 0x30, 0x70, 0x60 ], 
  [ 0x00, 0x0F, 0x19, 0x11, 0x13, 0x37, 0x76, 0x60 ], 
  [ 0x00, 0x08, 0x2A, 0x1C, 0x77, 0x1C, 0x2A, 0x08 ], 
  [ 0x00, 0x60, 0x78, 0x7E, 0x7F, 0x7E, 0x78, 0x60 ], 
  [ 0x00, 0x03, 0x0F, 0x3F, 0x7F, 0x3F, 0x0F, 0x03 ], 
  [ 0x00, 0x08, 0x1C, 0x2A, 0x08, 0x2A, 0x1C, 0x08 ], 
  [ 0x00, 0x66, 0x66, 0x66, 0x66, 0x00, 0x66, 0x66 ], 
  [ 0x00, 0x3F, 0x65, 0x65, 0x3D, 0x05, 0x05, 0x05 ], 
  [ 0x00, 0x0C, 0x32, 0x48, 0x24, 0x12, 0x4C, 0x30 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x7F, 0x7F ], 
  [ 0x00, 0x08, 0x1C, 0x2A, 0x08, 0x2A, 0x1C, 0x3E ], 
  [ 0x00, 0x08, 0x1C, 0x3E, 0x7F, 0x1C, 0x1C, 0x1C ], 
  [ 0x00, 0x1C, 0x1C, 0x1C, 0x7F, 0x3E, 0x1C, 0x08 ], 
  [ 0x00, 0x08, 0x0C, 0x7E, 0x7F, 0x7E, 0x0C, 0x08 ], 
  [ 0x00, 0x08, 0x18, 0x3F, 0x7F, 0x3F, 0x18, 0x08 ], 
  [ 0x00, 0x00, 0x00, 0x70, 0x70, 0x70, 0x7F, 0x7F ], 
  [ 0x00, 0x00, 0x14, 0x22, 0x7F, 0x22, 0x14, 0x00 ], 
  [ 0x00, 0x08, 0x1C, 0x1C, 0x3E, 0x3E, 0x7F, 0x7F ], 
  [ 0x00, 0x7F, 0x7F, 0x3E, 0x3E, 0x1C, 0x1C, 0x08 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x18, 0x3C, 0x3C, 0x18, 0x18, 0x00, 0x18 ], 
  [ 0x00, 0x36, 0x36, 0x14, 0x00, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x36, 0x36, 0x7F, 0x36, 0x7F, 0x36, 0x36 ], 
  [ 0x00, 0x08, 0x1E, 0x20, 0x1C, 0x02, 0x3C, 0x08 ], 
  [ 0x00, 0x60, 0x66, 0x0C, 0x18, 0x30, 0x66, 0x06 ], 
  [ 0x00, 0x3C, 0x66, 0x3C, 0x28, 0x65, 0x66, 0x3F ], 
  [ 0x00, 0x18, 0x18, 0x18, 0x30, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x60, 0x30, 0x18, 0x18, 0x18, 0x30, 0x60 ], 
  [ 0x00, 0x06, 0x0C, 0x18, 0x18, 0x18, 0x0C, 0x06 ], 
  [ 0x00, 0x00, 0x36, 0x1C, 0x7F, 0x1C, 0x36, 0x00 ], 
  [ 0x00, 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08, 0x00 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x30, 0x60 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x3C, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x60 ], 
  [ 0x00, 0x00, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x00 ], 
  [ 0x00, 0x3C, 0x66, 0x6E, 0x76, 0x66, 0x66, 0x3C ], 
  [ 0x00, 0x18, 0x18, 0x38, 0x18, 0x18, 0x18, 0x7E ], 
  [ 0x00, 0x3C, 0x66, 0x06, 0x0C, 0x30, 0x60, 0x7E ], 
  [ 0x00, 0x3C, 0x66, 0x06, 0x1C, 0x06, 0x66, 0x3C ], 
  [ 0x00, 0x0C, 0x1C, 0x2C, 0x4C, 0x7E, 0x0C, 0x0C ], 
  [ 0x00, 0x7E, 0x60, 0x7C, 0x06, 0x06, 0x66, 0x3C ], 
  [ 0x00, 0x3C, 0x66, 0x60, 0x7C, 0x66, 0x66, 0x3C ], 
  [ 0x00, 0x7E, 0x66, 0x0C, 0x0C, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x3C, 0x66, 0x66, 0x3C, 0x66, 0x66, 0x3C ], 
  [ 0x00, 0x3C, 0x66, 0x66, 0x3E, 0x06, 0x66, 0x3C ], 
  [ 0x00, 0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x00 ], 
  [ 0x00, 0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x30 ], 
  [ 0x00, 0x06, 0x0C, 0x18, 0x30, 0x18, 0x0C, 0x06 ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x00, 0x3C, 0x00, 0x00 ], 
  [ 0x00, 0x60, 0x30, 0x18, 0x0C, 0x18, 0x30, 0x60 ], 
  [ 0x00, 0x3C, 0x66, 0x06, 0x1C, 0x18, 0x00, 0x18 ], 
  [ 0x00, 0x38, 0x44, 0x5C, 0x58, 0x42, 0x3C, 0x00 ], 
  [ 0x00, 0x3C, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66 ], 
  [ 0x00, 0x7C, 0x66, 0x66, 0x7C, 0x66, 0x66, 0x7C ], 
  [ 0x00, 0x3C, 0x66, 0x60, 0x60, 0x60, 0x66, 0x3C ], 
  [ 0x00, 0x7C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x7C ], 
  [ 0x00, 0x7E, 0x60, 0x60, 0x7C, 0x60, 0x60, 0x7E ], 
  [ 0x00, 0x7E, 0x60, 0x60, 0x7C, 0x60, 0x60, 0x60 ], 
  [ 0x00, 0x3C, 0x66, 0x60, 0x60, 0x6E, 0x66, 0x3C ], 
  [ 0x00, 0x66, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66 ], 
  [ 0x00, 0x3C, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3C ], 
  [ 0x00, 0x1E, 0x0C, 0x0C, 0x0C, 0x6C, 0x6C, 0x38 ], 
  [ 0x00, 0x66, 0x6C, 0x78, 0x70, 0x78, 0x6C, 0x66 ], 
  [ 0x00, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7E ], 
  [ 0x00, 0x63, 0x77, 0x7F, 0x6B, 0x63, 0x63, 0x63 ], 
  [ 0x00, 0x63, 0x73, 0x7B, 0x6F, 0x67, 0x63, 0x63 ], 
  [ 0x00, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C ], 
  [ 0x00, 0x7C, 0x66, 0x66, 0x66, 0x7C, 0x60, 0x60 ], 
  [ 0x00, 0x3C, 0x66, 0x66, 0x66, 0x6E, 0x3C, 0x06 ], 
  [ 0x00, 0x7C, 0x66, 0x66, 0x7C, 0x78, 0x6C, 0x66 ], 
  [ 0x00, 0x3C, 0x66, 0x60, 0x3C, 0x06, 0x66, 0x3C ], 
  [ 0x00, 0x7E, 0x5A, 0x18, 0x18, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3E ], 
  [ 0x00, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x18 ], 
  [ 0x00, 0x63, 0x63, 0x63, 0x6B, 0x7F, 0x77, 0x63 ], 
  [ 0x00, 0x63, 0x63, 0x36, 0x1C, 0x36, 0x63, 0x63 ], 
  [ 0x00, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x7E, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x7E ], 
  [ 0x00, 0x1E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1E ], 
  [ 0x00, 0x00, 0x60, 0x30, 0x18, 0x0C, 0x06, 0x00 ], 
  [ 0x00, 0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x78 ], 
  [ 0x00, 0x08, 0x14, 0x22, 0x41, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F ], 
  [ 0x00, 0x0C, 0x0C, 0x06, 0x00, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x06, 0x3E, 0x66, 0x3E ], 
  [ 0x00, 0x60, 0x60, 0x60, 0x7C, 0x66, 0x66, 0x7C ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x66, 0x60, 0x66, 0x3C ], 
  [ 0x00, 0x06, 0x06, 0x06, 0x3E, 0x66, 0x66, 0x3E ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x66, 0x7E, 0x60, 0x3C ], 
  [ 0x00, 0x1C, 0x36, 0x30, 0x30, 0x7C, 0x30, 0x30 ], 
  [ 0x00, 0x00, 0x3E, 0x66, 0x66, 0x3E, 0x06, 0x3C ], 
  [ 0x00, 0x60, 0x60, 0x60, 0x7C, 0x66, 0x66, 0x66 ], 
  [ 0x00, 0x00, 0x18, 0x00, 0x18, 0x18, 0x18, 0x3C ], 
  [ 0x00, 0x0C, 0x00, 0x0C, 0x0C, 0x6C, 0x6C, 0x38 ], 
  [ 0x00, 0x60, 0x60, 0x66, 0x6C, 0x78, 0x6C, 0x66 ], 
  [ 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x00, 0x00, 0x63, 0x77, 0x7F, 0x6B, 0x6B ], 
  [ 0x00, 0x00, 0x00, 0x7C, 0x7E, 0x66, 0x66, 0x66 ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x3C ], 
  [ 0x00, 0x00, 0x7C, 0x66, 0x66, 0x7C, 0x60, 0x60 ], 
  [ 0x00, 0x00, 0x3C, 0x6C, 0x6C, 0x3C, 0x0D, 0x0F ], 
  [ 0x00, 0x00, 0x00, 0x7C, 0x66, 0x66, 0x60, 0x60 ], 
  [ 0x00, 0x00, 0x00, 0x3E, 0x40, 0x3C, 0x02, 0x7C ], 
  [ 0x00, 0x00, 0x18, 0x18, 0x7E, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0x3E ], 
  [ 0x00, 0x00, 0x00, 0x00, 0x66, 0x66, 0x3C, 0x18 ], 
  [ 0x00, 0x00, 0x00, 0x63, 0x6B, 0x6B, 0x6B, 0x3E ], 
  [ 0x00, 0x00, 0x00, 0x66, 0x3C, 0x18, 0x3C, 0x66 ], 
  [ 0x00, 0x00, 0x00, 0x66, 0x66, 0x3E, 0x06, 0x3C ], 
  [ 0x00, 0x00, 0x00, 0x3C, 0x0C, 0x18, 0x30, 0x3C ], 
  [ 0x00, 0x0E, 0x18, 0x18, 0x30, 0x18, 0x18, 0x0E ], 
  [ 0x00, 0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x18 ], 
  [ 0x00, 0x70, 0x18, 0x18, 0x0C, 0x18, 0x18, 0x70 ], 
  [ 0x00, 0x00, 0x00, 0x3A, 0x6C, 0x00, 0x00, 0x00 ], 
  [ 0x00, 0x08, 0x1C, 0x36, 0x63, 0x41, 0x41, 0x7F ]
]

aFonts       = [aVincent, aBios]
aFontsMirror = [False, True]

aAscii = aFonts[args.font]
bMirrorLetter = aFontsMirror[args.font]

def testBit(int_type, offset):
    mask = 1 << offset
    return(int_type & mask)

# setBit() returns an integer with the bit at 'offset' set to 1.

def setBit(int_type, offset):
    mask = 1 << offset
    return(int_type | mask)

# clearBit() returns an integer with the bit at 'offset' cleared.

def clearBit(int_type, offset):
    mask = ~(1 << offset)
    return(int_type & mask)
    

##Make it scroll
sMessage = args.text #"Hello World"
sMessage = sMessage +" "
aHorizontal = deque([])
aVertical = deque([])

bHorizontal = args.direction == "h"

for i in sMessage :
    iLetter = ord(i)
    aLetter = aAscii[iLetter]
    aNewLetter = [0,0,0,0,0,0,0,0]
    for j in range(8):
        aAscii[iLetter][j]
        #print("aAscii[iLetter][j] =", aAscii[iLetter][j])
        for k in range(8):
            if (bMirrorLetter):
                q = k
            else:
                q = 7 - k
            if testBit(aAscii[iLetter][j], q):
                aNewLetter[k] = setBit(aNewLetter[k],j)
            #print("aNewLetter[k] =", aNewLetter[k])
                
    for k in range(8):
        iTotal = 0  
        iCount = 0  
        if( i != " " and iTotal == 0 and aNewLetter[k] > 0):
            iTotal = iTotal + aNewLetter[k]
            iCount = iCount + 1
            aHorizontal.append(aNewLetter[k])
        if iCount < 8:
            aHorizontal.append(0)
            
    for j in range(8):
        if bMirrorLetter :
            #not sure how to reversed binary
            aVertical.append(aAscii[iLetter][j])
        else:
            aVertical.append(aAscii[iLetter][j])
    
    

if bHorizontal :
    while True:
        for x in range(8):
            if args.mirror:
                binary = aHorizontal[7 - x];
            else :
                binary = aHorizontal[x];
            for y in range(8):
                colour = background
                bit = testBit(binary, y)
                if(bit) :
                    colour = textcolour
                UH.set_pixel(x, y, colour[0], colour[1], colour[2])
        UH.show()
        last = aHorizontal.popleft()
        aHorizontal.append(last)    
        time.sleep(frame_duration)
else:
    while True:
        for y in range(8):
            binary = aVertical[y];
            #print("y =", y,"binary", binary)
            for x in range(8):
                colour = background
                if args.mirror:
                    bit = testBit(binary, x)
                else :
                    bit = testBit(binary, 7 - x)
                if(bit) :
                    colour = textcolour
                UH.set_pixel(x, y, colour[0], colour[1], colour[2])
        UH.show()
        last = aVertical.popleft()
        aVertical.append(last)    
        time.sleep(frame_duration)



#if vertical 
#Flip to vertical stripes
#if strip Strip 0x00 on leading trailing edges

